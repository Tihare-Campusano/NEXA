@startuml Diagrama_de_actividades
title Diagrama de Actividades - Proyecto APT

start

:Usuario abre aplicación;
:Ir a pantalla de Login;

if (¿Credenciales correctas?) then (Sí)
    :Accede a pantalla "Identifícate";
    :Ingresar nombre y apellido;
    :Registrar usuario en BD;
    :Ir al Home;
else (No)
    :Mostrar mensaje de error;
    stop
endif

partition "Home" {
    :Visualizar tabla de productos;
    :Buscar productos (nombre, código, modelo);

    :Navegar a Reportes;
    :Seleccionar tipo de reporte;
    :Generar reporte PDF;
    :Descargar reporte;

    :Navegar a Registrar producto;
    if (¿Método de registro?) then (Manual)
        :Ingresar código de barras manual;
        if (Producto ya existe?) then (Sí)
            :Autocompletar datos;
        else (No)
            :Ingresar datos completos;
        endif
    elseif (QR Pistola)
        :Escanear QR con pistola;
        :Autocompletar datos;
    else (Cámara Móvil)
        :Escanear con cámara;
        :Autocompletar datos;
    endif

    :Tomar fotografía del producto;
    :IA analiza estado (Nuevo/Usado/Mal estado);
    :Guardar producto en BD;

    :Navegar a Editar producto;
    :Ver detalle del producto;
    :Editar campos permitidos (nombre, código, modelo, marca);
    :Guardar cambios;

    :Navegar a Perfil;
    :Visualizar alias, correo, dispositivos, sesiones activas, fecha de logeo;
}

stop
@enduml
